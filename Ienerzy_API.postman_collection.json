{
  "info": {
    "name": "Ienerzy Battery Management API",
    "description": "Complete API collection for Ienerzy battery management system",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+919876543210\",\n  \"userType\": \"dealer\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+919876543210\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/verify-otp",
              "host": ["{{base_url}}"],
              "path": ["auth", "verify-otp"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auth/me",
              "host": ["{{base_url}}"],
              "path": ["auth", "me"]
            }
          }
        }
      ]
    },
    {
      "name": "Battery Management",
      "item": [
        {
          "name": "List All Batteries",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/batteries",
              "host": ["{{base_url}}"],
              "path": ["batteries"]
            }
          }
        },
        {
          "name": "Add New Battery",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"serial_number\": \"BAT001\",\n  \"health_score\": 100\n}"
            },
            "url": {
              "raw": "{{base_url}}/batteries",
              "host": ["{{base_url}}"],
              "path": ["batteries"]
            }
          }
        },
        {
          "name": "Get Battery Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/batteries/BAT001",
              "host": ["{{base_url}}"],
              "path": ["batteries", "BAT001"]
            }
          }
        },
        {
          "name": "Control Battery Status",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"inactive\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/batteries/BAT001/control",
              "host": ["{{base_url}}"],
              "path": ["batteries", "BAT001", "control"]
            }
          }
        },
        {
          "name": "Assign Battery to Consumer",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"consumer_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/batteries/BAT001/assign",
              "host": ["{{base_url}}"],
              "path": ["batteries", "BAT001", "assign"]
            }
          }
        },
        {
          "name": "Get Battery Health Report",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/batteries/health-report",
              "host": ["{{base_url}}"],
              "path": ["batteries", "health-report"]
            }
          }
        },
        {
          "name": "Test Battery Status Update",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"inactive\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/batteries/BAT001/test-status",
              "host": ["{{base_url}}"],
              "path": ["batteries", "BAT001", "test-status"]
            }
          }
        }
      ]
    },
    {
      "name": "Consumer Management",
      "item": [
        {
          "name": "List Consumers",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/consumers",
              "host": ["{{base_url}}"],
              "path": ["consumers"]
            }
          }
        },
        {
          "name": "Create Consumer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ram Kumar\",\n  \"phone\": \"+919876543210\",\n  \"pan\": \"ABCDE1234F\",\n  \"aadhar\": \"123456789012\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/consumers",
              "host": ["{{base_url}}"],
              "path": ["consumers"]
            }
          }
        },
        {
          "name": "Update KYC Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"kyc_status\": \"verified\",\n  \"pan\": \"ABCDE1234F\",\n  \"aadhar\": \"123456789012\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/consumers/1/kyc",
              "host": ["{{base_url}}"],
              "path": ["consumers", "1", "kyc"]
            }
          }
        },
        {
          "name": "Get Consumer Finance Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/consumers/1/finance",
              "host": ["{{base_url}}"],
              "path": ["consumers", "1", "finance"]
            }
          }
        },
        {
          "name": "Upload Consumer Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"document_type\": \"pan_card\",\n  \"document_url\": \"https://storage.example.com/pan_card.jpg\",\n  \"document_number\": \"ABCDE1234F\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/consumers/1/documents",
              "host": ["{{base_url}}"],
              "path": ["consumers", "1", "documents"]
            }
          }
        },
        {
          "name": "Get Consumer Profile",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/consumers/1/profile",
              "host": ["{{base_url}}"],
              "path": ["consumers", "1", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "Finance Management",
      "item": [
        {
          "name": "Submit Finance Application",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"consumer_id\": 1,\n  \"battery_id\": 1,\n  \"amount\": 45000,\n  \"tenure_months\": 24,\n  \"interest_rate\": 12.5\n}"
            },
            "url": {
              "raw": "{{base_url}}/finance/applications",
              "host": ["{{base_url}}"],
              "path": ["finance", "applications"]
            }
          }
        },
        {
          "name": "List Finance Applications",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/finance/applications",
              "host": ["{{base_url}}"],
              "path": ["finance", "applications"]
            }
          }
        },
        {
          "name": "Approve Finance Application",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"approved_amount\": 45000,\n  \"interest_rate\": 12.5,\n  \"tenure_months\": 24\n}"
            },
            "url": {
              "raw": "{{base_url}}/finance/applications/1/approve",
              "host": ["{{base_url}}"],
              "path": ["finance", "applications", "1", "approve"]
            }
          }
        },
        {
          "name": "Get Overdue Accounts",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/finance/overdue",
              "host": ["{{base_url}}"],
              "path": ["finance", "overdue"]
            }
          }
        },
        {
          "name": "Auto-disable Batteries",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"overdue_days_threshold\": 7\n}"
            },
            "url": {
              "raw": "{{base_url}}/finance/auto-disable",
              "host": ["{{base_url}}"],
              "path": ["finance", "auto-disable"]
            }
          }
        }
      ]
    },
    {
      "name": "NBFC Integration",
      "item": [
        {
          "name": "Submit NBFC Application",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"consumer_id\": 1,\n  \"battery_id\": 1,\n  \"amount\": 45000,\n  \"tenure_months\": 24,\n  \"interest_rate\": 12.5\n}"
            },
            "url": {
              "raw": "{{base_url}}/nbfc/submit-application",
              "host": ["{{base_url}}"],
              "path": ["nbfc", "submit-application"]
            }
          }
        },
        {
          "name": "Handle NBFC Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"applicationId\": 1,\n  \"status\": \"approved\",\n  \"sanctionedAmount\": 45000,\n  \"interestRate\": 12.5,\n  \"emiAmount\": 1875,\n  \"disbursementDate\": \"2024-01-20\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/nbfc/webhook-status",
              "host": ["{{base_url}}"],
              "path": ["nbfc", "webhook-status"]
            }
          }
        },
        {
          "name": "Get NBFC Portfolio",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/nbfc/portfolio",
              "host": ["{{base_url}}"],
              "path": ["nbfc", "portfolio"]
            }
          }
        }
      ]
    },
    {
      "name": "Service Management",
      "item": [
        {
          "name": "Create Service Ticket",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"battery_id\": 1,\n  \"issue_category\": \"performance\",\n  \"description\": \"Battery not holding charge properly\",\n  \"location\": \"Bangalore Central\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/service/tickets",
              "host": ["{{base_url}}"],
              "path": ["service", "tickets"]
            }
          }
        },
        {
          "name": "List Service Tickets",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/service/tickets",
              "host": ["{{base_url}}"],
              "path": ["service", "tickets"]
            }
          }
        },
        {
          "name": "Get Active Tickets",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/service/tickets/active",
              "host": ["{{base_url}}"],
              "path": ["service", "tickets", "active"]
            }
          }
        },
        {
          "name": "Assign Ticket to Technician",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"technician_id\": 1,\n  \"priority\": \"high\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/service/tickets/1/assign",
              "host": ["{{base_url}}"],
              "path": ["service", "tickets", "1", "assign"]
            }
          }
        },
        {
          "name": "Auto-assign Ticket",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ticket_id\": 1,\n  \"location\": \"Bangalore Central\",\n  \"priority\": \"medium\",\n  \"skill_required\": \"battery_maintenance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/service/auto-assign",
              "host": ["{{base_url}}"],
              "path": ["service", "auto-assign"]
            }
          }
        },
        {
          "name": "Get Available Technicians",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/service/technicians/available?location=Bangalore&skill_required=battery_maintenance",
              "host": ["{{base_url}}"],
              "path": ["service", "technicians", "available"],
              "query": [
                {
                  "key": "location",
                  "value": "Bangalore"
                },
                {
                  "key": "skill_required",
                  "value": "battery_maintenance"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Dealer Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/analytics/dealer-dashboard",
              "host": ["{{base_url}}"],
              "path": ["analytics", "dealer-dashboard"]
            }
          }
        },
        {
          "name": "Collection Report",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/analytics/collection-report?start_date=2024-01-01&end_date=2024-01-31",
              "host": ["{{base_url}}"],
              "path": ["analytics", "collection-report"],
              "query": [
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2024-01-31"
                }
              ]
            }
          }
        }
      ]
    }
  ]
} 